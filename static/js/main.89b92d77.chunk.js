/*! For license information please see main.89b92d77.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-kalender-med-todo"]=this["webpackJsonpreact-kalender-med-todo"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(6),s=a.n(r),i=(a(11),a(2));var d=function(e){fetch("https://react-kalender-med-to-do-be.herokuapp.com/masterlist").then((function(e){return e.json()})).then((function(t){e(t)}))},o=(a(12),a(0));var j=function(){return Object(o.jsx)("header",{children:Object(o.jsx)("h1",{children:"My Calendar"})})};a(14);function u(e,t){return t.isSame(e,"day")}function l(e,t){return function(e){return e.isBefore(new Date,"day")}(e)?"before":u(e,t)?"selected-day":u(e,t)?console.log("date clicked",e):function(e){return e.isSame(new Date,"day")}(e)?"today":""}function b(e){var t=e.value,a=e.setValue;return Object(o.jsxs)("div",{className:"calendar-header",children:[Object(o.jsx)("div",{className:"prev",onClick:function(){return a(t.clone().subtract(1,"month"))},children:String.fromCharCode(171)}),Object(o.jsxs)("div",{className:"curr",children:[t.format("YYYY")," ",t.format("MMMM")]}),Object(o.jsx)("div",{className:"next",onClick:function(){return a(t.clone().add(1,"month"))},children:String.fromCharCode(187)})]})}var O=a(3);var f=function(e){fetch("https://react-kalender-med-to-do-be.herokuapp.com/task/add",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log("newTask \xe4r sparad",e)}))};var h=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)([]),d=Object(i.a)(s,2),j=(d[0],d[1]),u=Object(n.useState)(!1),l=Object(i.a)(u,2),b=(l[0],l[1],Object(n.useState)(e.isUpdate)),f=Object(i.a)(b,2),h=(f[0],f[1],Object(n.useState)(!1)),m=Object(i.a)(h,2),p=(m[0],m[1],{date:e.selectedDate,title:c,isFinish:!1});return Object(o.jsxs)("div",{children:[Object(o.jsxs)("h3",{children:["L\xe4gg till ny uppgift med deadline: ",e.selectedDate]}),Object(o.jsxs)("form",{onSubmit:function(t){e.addTask(p);var a=Object(O.a)({},a);Object(O.a)(Object(O.a)({},a),p);j(a),console.log("masterArr i AddTask",a),t.preventDefault()},children:[Object(o.jsx)("input",{type:"text",placeholder:"Skriv ny uppgift",value:c,onChange:function(e){r(e.target.value)}}),Object(o.jsx)("button",{type:"submit",id:"saveBtn",children:"Spara"})]})]})};var m=function(e){fetch("https://react-kalender-med-to-do-be.herokuapp.com/checkbox",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log("res from fetch updateCheckbox():",e)}))};var p=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),d=Object(i.a)(s,2),j=d[0];d[1],Object(n.useEffect)((function(){r(e.masterArr)}),[]),Object(n.useEffect)((function(){r(e.masterArr)}),[j]);var u=function(t){var a={id:t.target.id,isFinish:!0};e.deleteTask(a)};return Object(o.jsxs)("div",{children:[Object(o.jsxs)("h3",{children:["Task-list f\xf6r: ",e.selectedDate]}),Object(o.jsx)("ul",{children:Object.values(c).map((function(t,a){return t.date===e.selectedDate?Object(o.jsxs)("div",{children:[" ",Object(o.jsx)("input",{id:t._id,type:"checkbox",onClick:u}),Object(o.jsx)("li",{children:t.title})]},a):""}))})]})},v=a(5);var x=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(v()),d=Object(i.a)(s,2),j=d[0],u=d[1],O=Object(n.useState)(!1),f=Object(i.a)(O,2),m=f[0],x=f[1],k=Object(n.useState)(""),S=Object(i.a)(k,2),g=S[0],y=S[1],Y=Object(n.useState)(e.masterArr),A=Object(i.a)(Y,2),D=A[0],T=A[1],C=Object(n.useState)(e.doUpdate),M=Object(i.a)(C,2),U=(M[0],M[1],Object(n.useState)(e.isUpdate)),F=Object(i.a)(U,2);F[0],F[1],Object(n.useEffect)((function(){console.log("masterArr i MyCalendar:",e.masterArr),T(e.masterArr)}),[e.masterArr]);var N=j.clone().startOf("month").startOf("week").weekday(1),E=j.clone().endOf("month").endOf("week");Object(n.useEffect)((function(){for(var e=N.clone().subtract(1,"day"),t=[];e.isBefore(E,"day");)t.push(Array(7).fill(0).map((function(){return e.add(1,"day").clone()})));r(t)}),[j]),Object(n.useEffect)((function(){}),[m,g]);var w=function(e,t){var a=[];for(var n in D)console.log(" masterArr[i].date",D[n].date),console.log('(moment(day).format("YYYY-MM-DD")) ',v(e).format("YYYY-MM-DD")),D[n].date===v(e).format("YYYY-MM-DD")&&!1===D[n].isFinish&&a.push(D[n].title);return console.log("lengthArr.length",a.length),Object(o.jsxs)("div",{children:[a.length," deadlines"]})};return Object(o.jsxs)("div",{className:"calendar",children:[Object(o.jsx)(b,{value:j,setValue:u}),Object(o.jsx)("div",{className:"calendar-body",children:c.map((function(e,t){return Object(o.jsx)("div",{children:e.map((function(e,t){return Object(o.jsx)("div",{className:"day",onClick:function(){u(e),function(e){var t=e._d,a=v(t).format("YYYY-MM-DD");y(a)}(e),x(!0)},children:Object(o.jsxs)("div",{className:l(e,j),children:[e.format("D"),Object(o.jsx)("ul",{className:"taskListInCalendar"}),w(e)]})},t)}))},t)}))}),m?Object(o.jsx)(h,{masterArr:D,addTask:e.addTask,deleteTask:e.deleteTask,doUpdate:e.doUpdate,isUpdate:e.isUpdate,selectedDate:g}):"",m?Object(o.jsx)(p,{masterArr:D,selectedDate:g,deleteTask:e.deleteTask,doUpdate:e.doUpdate,isUpdate:e.isUpdate}):""]})};a(16);var k=function(){return Object(o.jsx)("footer",{id:"footer",children:Object(o.jsx)("h4",{children:"2021"})})},S=(a(17),a(5)),g=a.n(S);a(18);var y=function(e,t){var a=Object(n.useState)([]),c=Object(i.a)(a,2),r=(c[0],c[1]),s=Object(n.useState)(!1),d=Object(i.a)(s,2),j=(d[0],d[1],Object(n.useState)(!1)),u=Object(i.a)(j,2),l=(u[0],u[1],Object(n.useState)(e.isFinish)),b=Object(i.a)(l,2);return b[0],b[1],Object(n.useEffect)((function(){r(e.masterArr)}),[]),Object(o.jsxs)("div",{className:"task-card",children:[Object(o.jsx)("input",{id:e.id,type:"checkbox",onClick:function(t){var a={id:t.target.id,isFinish:!0};e.deleteTask(a)}}),Object(o.jsx)("h3",{children:e.title}),Object(o.jsx)("p",{children:e.date})]},e.index)};var Y=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=(a[0],a[1]),r=Object(n.useState)(!1),s=Object(i.a)(r,2),d=s[0],j=s[1];Object(n.useEffect)((function(){c(e.masterArr)}),[e.masterArr]);var u=function(){j(!0)},l=e.masterArr.sort((function(e,t){return e.date>t.date?1:-1})),b=Object.values(l).map((function(t,a){return Object(o.jsx)(y,{isFinish:t.isFinish,title:t.title,date:g()(t.date).format("YYYY/MM/DD"),index:a,id:t._id,deleteTask:e.deleteTask,masterArr:e.masterArr,doUpdate:e.doUpdate,isUpdate:e.isUpdate,checked:d,isChecked:u},a)}));return Object(o.jsxs)("div",{id:"task-list",children:[Object(o.jsx)("h2",{children:"Master task-list"}),b]})};var A=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(i.a)(r,2),u=s[0],l=s[1],b=Object(n.useState)(!1),O=Object(i.a)(b,2),h=O[0],p=(O[1],Object(n.useState)(!1)),v=Object(i.a)(p,2),S=(v[0],v[1],Object(n.useState)(!1)),g=Object(i.a)(S,2);g[0],g[1],Object(n.useEffect)((function(){d((function(e){console.log("GetMasterData() till App:",e),c(e)}))}),[]);var y=function(e){f(e)},A=function(e){m(e);var t=a.findIndex((function(t){return t._id===e.id}));a.splice(t,1);c(a),l(!u)};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(j,{}),Object(o.jsx)(x,{masterArr:a,addTask:y,deleteTask:A,doUpdate:u,isUpdate:h}),Object(o.jsx)(Y,{masterArr:a,addTask:y,deleteTask:A,doUpdate:u,isUpdate:h}),Object(o.jsx)(k,{})]})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,20)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(A,{})}),document.getElementById("root")),D()}],[[19,1,2]]]);
//# sourceMappingURL=main.89b92d77.chunk.js.map