/*! For license information please see main.769d31d6.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-kalender-med-todo"]=this["webpackJsonpreact-kalender-med-todo"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(6),s=a.n(r),i=(a(11),a(3)),d=a(2);var o=function(e){fetch("https://react-kalender-med-to-do-be.herokuapp.com/masterlist").then((function(e){return e.json()})).then((function(t){e(t)}))},j=(a(12),a(0));var u=function(){return Object(j.jsx)("header",{children:Object(j.jsx)("h1",{children:"My Calendar"})})};a(14);function l(e,t){return t.isSame(e,"day")}function b(e,t){return function(e){return e.isBefore(new Date,"day")}(e)?"before":l(e,t)?"selected-day":l(e,t)?console.log("date clicked",e):function(e){return e.isSame(new Date,"day")}(e)?"today":""}function O(e){var t=e.value,a=e.setValue;return Object(j.jsxs)("div",{className:"calendar-header",children:[Object(j.jsx)("div",{className:"prev",onClick:function(){return a(t.clone().subtract(1,"month"))},children:String.fromCharCode(171)}),Object(j.jsxs)("div",{className:"curr",children:[t.format("YYYY")," ",t.format("MMMM")]}),Object(j.jsx)("div",{className:"next",onClick:function(){return a(t.clone().add(1,"month"))},children:String.fromCharCode(187)})]})}var f=function(e){fetch("https://react-kalender-med-to-do-be.herokuapp.com/task",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log("newTask \xe4r sparad",e)}))};var h=function(e){var t=Object(c.useState)(""),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),o=(i[0],i[1],Object(c.useState)(!1)),u=Object(d.a)(o,2),l=(u[0],u[1],Object(c.useState)(e.isUpdate)),b=Object(d.a)(l,2),O=(b[0],b[1],Object(c.useState)(!1)),f=Object(d.a)(O,2),h=(f[0],f[1],{date:e.selectedDate,title:n,isFinish:!1});return Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{children:["L\xe4gg till ny uppgift med deadline: ",e.selectedDate]}),Object(j.jsxs)("form",{onSubmit:function(t){e.addTask(h),t.preventDefault()},children:[Object(j.jsx)("input",{type:"text",placeholder:"Skriv ny uppgift",value:n,onChange:function(e){r(e.target.value)}}),Object(j.jsx)("button",{type:"submit",id:"saveBtn",children:"Spara"})]})]})};var p=function(e){fetch("https://react-kalender-med-to-do-be.herokuapp.com/checkbox",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log("res from fetch updateCheckbox():",e)}))};var m=function(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),i=Object(d.a)(s,2),o=i[0];i[1],Object(c.useEffect)((function(){r(e.masterArr)}),[]),Object(c.useEffect)((function(){r(e.masterArr)}),[o]);var u=function(t){var a={id:t.target.id,isFinish:!0};e.deleteTask(a)};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("h3",{children:["Task-list f\xf6r: ",e.selectedDate]}),Object(j.jsx)("ul",{children:Object.values(n).map((function(t,a){return t.date===e.selectedDate?Object(j.jsxs)("div",{children:[" ",Object(j.jsx)("input",{id:t._id,type:"checkbox",onClick:u}),Object(j.jsx)("li",{children:t.title})]},a):""}))})]})},v=a(5);var x=function(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(v()),i=Object(d.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)(!1),f=Object(d.a)(l,2),p=f[0],x=f[1],k=Object(c.useState)(""),S=Object(d.a)(k,2),g=S[0],y=S[1],T=Object(c.useState)(e.masterArr),A=Object(d.a)(T,2),C=A[0],U=A[1],D=Object(c.useState)(e.doUpdate),Y=Object(d.a)(D,2),M=(Y[0],Y[1],Object(c.useState)(e.isUpdate)),F=Object(d.a)(M,2);F[0],F[1],Object(c.useEffect)((function(){console.log("masterArr i MyCalendar:",e.masterArr),U(e.masterArr)}),[e.masterArr]);var N=o.clone().startOf("month").startOf("week").weekday(1),w=o.clone().endOf("month").endOf("week");Object(c.useEffect)((function(){for(var e=N.clone().subtract(1,"day"),t=[];e.isBefore(w,"day");)t.push(Array(7).fill(0).map((function(){return e.add(1,"day").clone()})));r(t)}),[o]),Object(c.useEffect)((function(){}),[p,g]);var E=function(e,t){var a=[];for(var c in C)C[c].date===v(e).format("YYYY-MM-DD")&&!1===C[c].isFinish&&a.push(C[c].title);return Object(j.jsxs)("div",{children:[a.length," deadlines"]})};return Object(j.jsxs)("div",{className:"calendar",children:[Object(j.jsx)(O,{value:o,setValue:u}),Object(j.jsx)("div",{className:"calendar-body",children:n.map((function(e,t){return Object(j.jsx)("div",{children:e.map((function(e,t){return Object(j.jsx)("div",{className:"day",onClick:function(){u(e),function(e){var t=e._d,a=v(t).format("YYYY-MM-DD");y(a)}(e),x(!0)},children:Object(j.jsxs)("div",{className:b(e,o),children:[e.format("D"),Object(j.jsx)("ul",{className:"taskListInCalendar"}),E(e)]})},t)}))},t)}))}),p?Object(j.jsx)(h,{masterArr:C,addTask:e.addTask,deleteTask:e.deleteTask,doUpdate:e.doUpdate,isUpdate:e.isUpdate,selectedDate:g}):"",p?Object(j.jsx)(m,{masterArr:C,selectedDate:g,deleteTask:e.deleteTask,doUpdate:e.doUpdate,isUpdate:e.isUpdate}):""]})};a(16);var k=function(){return Object(j.jsx)("footer",{id:"footer",children:Object(j.jsx)("h4",{children:"2021"})})},S=(a(17),a(5)),g=a.n(S);a(18);var y=function(e,t){var a=Object(c.useState)([]),n=Object(d.a)(a,2),r=(n[0],n[1]),s=Object(c.useState)(!1),i=Object(d.a)(s,2),o=(i[0],i[1],Object(c.useState)(!1)),u=Object(d.a)(o,2),l=(u[0],u[1],Object(c.useState)(e.isFinish)),b=Object(d.a)(l,2);return b[0],b[1],Object(c.useEffect)((function(){r(e.masterArr)}),[]),Object(j.jsxs)("div",{className:"task-card",children:[Object(j.jsx)("input",{id:e.id,type:"checkbox",onClick:function(t){var a={id:t.target.id,isFinish:!0};e.deleteTask(a)}}),Object(j.jsx)("h3",{children:e.title}),Object(j.jsx)("p",{children:e.date})]},e.index)};var T=function(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),n=(a[0],a[1]),r=Object(c.useState)(!1),s=Object(d.a)(r,2),i=s[0],o=s[1];Object(c.useEffect)((function(){n(e.masterArr)}),[e.masterArr]);var u=function(){o(!0)},l=Object.values(e.masterArr).map((function(t,a){return Object(j.jsx)(y,{isFinish:t.isFinish,title:t.title,date:g()(t.date).format("YYYY/MM/DD"),index:a,id:t._id,deleteTask:e.deleteTask,masterArr:e.masterArr,doUpdate:e.doUpdate,isUpdate:e.isUpdate,checked:i,isChecked:u},a)}));return Object(j.jsxs)("div",{id:"task-list",children:[Object(j.jsx)("h2",{children:"Master task-list"}),l]})};var A=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),s=Object(d.a)(r,2),l=s[0],b=s[1],O=Object(c.useState)(!1),h=Object(d.a)(O,2),m=h[0],v=(h[1],Object(c.useState)(!1)),S=Object(d.a)(v,2),g=(S[0],S[1],Object(c.useState)(!1)),y=Object(d.a)(g,2),A=(y[0],y[1],Object(c.useState)(!1)),C=Object(d.a)(A,2);C[0],C[1],Object(c.useEffect)((function(){o((function(e){console.log("GetMasterData() till App:",e),n(e)}))}),[]);var U=function(e){f(e);var t=Object(i.a)({},t);Object(i.a)(Object(i.a)({},t),e);n(t),console.log("masterArr efter newTask tillagd???",t)},D=function(e){p(e);var t=a.findIndex((function(t){return t._id===e.id}));a.splice(t,1);n(a),b(!l)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{}),Object(j.jsx)(x,{masterArr:a,addTask:U,deleteTask:D,doUpdate:l,isUpdate:m}),Object(j.jsx)(T,{masterArr:a,addTask:U,deleteTask:D,doUpdate:l,isUpdate:m}),Object(j.jsx)(k,{})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,20)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(A,{})}),document.getElementById("root")),C()}],[[19,1,2]]]);
//# sourceMappingURL=main.769d31d6.chunk.js.map